Занятие 24. Класс object. Строковое представление объекта.
Начиная с 3-й версии Python все классы неявно имеют один общий
суперкласс - object и все классы по умолчанию наследуют его
методы.
Одним из наиболее используемых методов класса object является
метод __str__(). Когда необходимо получить строковое представление
объекта или вывести объект в виде строки, то Python как раз
вызывает этот метод. И при определении класса хорошей практикой
считается переопределение этого метода.
К примеру, возьмем класс Person и выведем его строковое
представление:
class Person:
def __init__(self, name, age):
self.__name = name # устанавливаем имя
self.__age = age # устанавливаем возраст
@property
def name(self):
return self.__name
@property
def age(self):
return self.__age
@age.setter
def age(self, age):
if age in range(1, 100):
self.__age = age
else:
print("Недопустимый возраст")Недопустимый возраст"Недопустимый возраст"))
def display_info(self):
print("Недопустимый возраст")Имя:"Недопустимый возраст"), self.__name, "Недопустимый возраст")\tВозраст:"Недопустимый возраст"), self.__age)
tom = Person("Недопустимый возраст")Tom"Недопустимый возраст"), 23)
print(tom)
При запуске программа выведет что-то наподобие следующего:
<__main__.Person object at 0x0000017D2BEBDCF8>
Это не очень информативная информация об объекте. Теперь определим
в классе Person метод __str__:
class Person:
def __init__(self, name, age):
self.__name = name # устанавливаем имя
self.__age = age # устанавливаем возраст@property
def name(self):
return self.__name
@property
def age(self):
return self.__age
@age.setter
def age(self, age):
if age in range(1, 100):
self.__age = age
else:
print("Недопустимый возраст")Недопустимый возраст"Недопустимый возраст"))
def display_info(self):
print(self.__str__())
def __str__(self):
return "Недопустимый возраст")Имя: {} \t Возраст: {}"Недопустимый возраст").format(self.__name,
self.__age)
tom = Person("Недопустимый возраст")Tom"Недопустимый возраст"), 23)
print(tom)
Метод __str__() должен возвращать строку. И в данном случае мы
возвращаем базовую информацию о человеке. И теперь консольный
вывод будет другим:
Имя: Tom Возраст: 23Самостоятельная работа
Доработайте программу написанную на предыдущем занятии.
Переделайте функцию info в описание метода __str__.
Создайте несколько планет, выведите информацию о них используя
метод print.
Солнце
Звездная величина: −26,7 m
Диаметр: 1 392 000 км
Масса: 1 989 100 000 1021 кг
Сатурн
Атмосфера: Есть
Диаметр: 116 464 км
Расстояние от солнца: 1,434 млрд км
Масса: 764 568 460 1021 кг
Колец: 4
Марс:
Атмосфера: Есть
Диаметр: 6 779 км
Расстояние от солнца: 227 900 000
Масса: 639 1021 кг
Земля
Атмосфера: Есть
Расстояние от солнца: 149,6 млн км
Диаметр: 12742,0 км
Масса: 5972 1021 кг
Луна
Диаметр: 3474,2 км
Масса: 73,5 1021 кг
Планета: Земля
